!function(e){function t(n){if(s[n])return s[n].exports;var r=s[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var s={};return t.m=e,t.c=s,t.p="/assets",t(0)}([function(e,t,s){"use strict";var n=s(1),r=s(10),i=s(11),a=s(15),o=n.createClass({displayName:"App",render:function(){return n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-8"},n.createElement(r,{events:this.props.events})),n.createElement("div",{className:"col-md-4"},n.createElement(i,{rfcs:this.props.rfcs}),n.createElement("div",{className:"box"},n.createElement("div",{className:"box-header"},n.createElement("h3",{className:"box-title"},"About")),n.createElement("div",{className:"box-body"},n.createElement("p",null,"No need to frantically refresh the voting pages for RFCs anymore. You will get both the results and an event based stream of all the votes for RFCs."),n.createElement("p",null,"This project is built with Symfony2, React.JS,  Webpack and Doctrine CouchDB ODM. You can look at the source code on ",n.createElement("a",{href:"https://github.com/beberlei/php-rfc-watch"},"Github"),"."),n.createElement("p",null,"I have written a blog post on how to integrate ",n.createElement("a",{href:"http://www.whitewashing.de/2015/02/26/integrate_symfony_and_webpack.html"},"Symfony with Webpack and React.js")," if you are interested.")))))}});a.on("change",function(){n.render(n.createElement(o,{events:a.getAllActive(),rfcs:a.getRfcs()}),document.getElementById("content"))}),a.fetch(),setInterval(function(){a.fetch()},6e4)},function(e){e.exports=React},function(e){"use strict";function t(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e){for(var s,n,r=t(e),i=1;i<arguments.length;i++){s=arguments[i],n=Object.keys(Object(s));for(var a=0;a<n.length;a++)r[n[a]]=s[n[a]]}return r}},function(e,t,s){var n=s(4).Dispatcher,r=s(2),i=r(new n,{emitServer:function(e,t){this.dispatch({source:"server",type:e,action:t})},emitView:function(e,t){this.dispatch({source:"view",type:e,action:t})}});e.exports=i},function(e,t,s){e.exports.Dispatcher=s(5)},function(e,t,s){"use strict";function n(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var r=s(6),i=1,a="ID_";n.prototype.register=function(e){var t=a+i++;return this.$Dispatcher_callbacks[t]=e,t},n.prototype.unregister=function(e){r(this.$Dispatcher_callbacks[e],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this.$Dispatcher_callbacks[e]},n.prototype.waitFor=function(e){r(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var s=e[t];this.$Dispatcher_isPending[s]?r(this.$Dispatcher_isHandled[s],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",s):(r(this.$Dispatcher_callbacks[s],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",s),this.$Dispatcher_invokeCallback(s))}},n.prototype.dispatch=function(e){r(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(e);try{for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]||this.$Dispatcher_invokeCallback(t)}finally{this.$Dispatcher_stopDispatching()}},n.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},n.prototype.$Dispatcher_invokeCallback=function(e){this.$Dispatcher_isPending[e]=!0,this.$Dispatcher_callbacks[e](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[e]=!0},n.prototype.$Dispatcher_startDispatching=function(e){for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]=!1,this.$Dispatcher_isHandled[t]=!1;this.$Dispatcher_pendingPayload=e,this.$Dispatcher_isDispatching=!0},n.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},e.exports=n},function(e){"use strict";var t=function(e,t,s,n,r,i,a,o){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[s,n,r,i,a,o],h=0;c=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return l[h++]}))}throw c.framesToPop=1,c}};e.exports=t},function(e,t,s){var n=s(1);e.exports=n.createClass({displayName:"exports",time:function(){var e=new Date(this.props.data.date);return e.toLocaleString()},render:function(){return n.createElement("li",null,n.createElement("i",{className:"fa fa-volume-up bg-green"}),n.createElement("div",{className:"timeline-item"},n.createElement("span",{className:"time"},n.createElement("i",{className:"fa fa-clock-o"})," ",this.time()),n.createElement("h3",{className:"timeline-header"},"User voted"),n.createElement("div",{className:"timeline-body"},n.createElement("strong",null,this.props.data.user)," voted ",n.createElement("strong",null,this.props.data.option)," on RFC ",n.createElement("a",{href:this.props.data.vote.url},this.props.data.vote.title))))}})},function(e,t,s){var n=s(1);e.exports=n.createClass({displayName:"exports",time:function(){var e=new Date(this.props.data.date);return e.toLocaleString()},render:function(){return n.createElement("li",null,n.createElement("i",{className:"fa fa-close bg-red"}),n.createElement("div",{className:"timeline-item"},n.createElement("span",{className:"time"},n.createElement("i",{className:"fa fa-clock-o"})," ",this.time()),n.createElement("h3",{className:"timeline-header"},"Vote closed"),n.createElement("div",{className:"timeline-body"},this.props.data.user," closed the vote on RFC ",n.createElement("a",{href:this.props.data.vote.url},this.props.data.vote.title))))}})},function(e,t,s){var n=s(1);e.exports=n.createClass({displayName:"exports",time:function(){var e=new Date(this.props.data.date);return e.toLocaleString()},render:function(){return n.createElement("li",null,n.createElement("i",{className:"fa fa-bullhorn bg-blue"}),n.createElement("div",{className:"timeline-item"},n.createElement("span",{className:"time"},n.createElement("i",{className:"fa fa-clock-o"})," ",this.time()),n.createElement("h3",{className:"timeline-header"},"Vote opened"),n.createElement("div",{className:"timeline-body"},n.createElement("strong",null,this.props.data.user)," opened vote on RFC ",n.createElement("a",{href:this.props.data.vote.url},this.props.data.vote.title))))}})},function(e,t,s){var n=s(1),r=s(7),i=s(9),a=s(8);e.exports=n.createClass({displayName:"exports",propTypes:{events:n.PropTypes.array},renderEventItem:function(e,t){switch(e.type){case"UserVoted":return n.createElement(r,{data:e,key:t});case"VoteOpened":return n.createElement(i,{data:e,key:t});case"VoteClosed":return n.createElement(a,{data:e,key:t})}},render:function(){return n.createElement("ul",{className:"timeline"},this.props.events.map(this.renderEventItem),n.createElement("li",null,n.createElement("i",{className:"fa fa-clock-o bg-gray"})))}})},function(e,t,s){var n=s(1),r=s(12);e.exports=n.createClass({displayName:"exports",renderRfcItem:function(e,t){return n.createElement(r,{rfc:e,key:t})},render:function(){return n.createElement("div",{className:"box"},n.createElement("div",{className:"box-header"},n.createElement("h3",{className:"box-title"},"RFCs")),n.createElement("div",{className:"box-body"},n.createElement("ul",null,this.props.rfcs.map(this.renderRfcItem))))}})},function(e,t,s){var n=s(1),r=s(3),i=s(13);e.exports=n.createClass({displayName:"exports",getInitialState:function(){return{visible:!0}},handleChange:function(){var e=!this.state.visible;this.setState({visible:e}),r.emitView("RfcVisibilityToggled",{Id:this.props.rfc.id,Visible:e})},render:function(){return n.createElement("li",null,n.createElement("div",{className:"checkbox"},n.createElement("label",null,n.createElement("input",{type:"checkbox",checked:this.state.visible,onChange:this.handleChange}),this.props.rfc.title),n.createElement(i,{results:this.props.rfc.results})))}})},function(e,t,s){var n=s(1);e.exports=n.createClass({displayName:"exports",renderVote:function(e){var t=Math.round(100*e.share,2);return n.createElement("li",null,e.option,": ",e.votes," (",t,"%)")},computeTotalVotesCasted:function(){for(var e=0,t=0;t<this.props.results.length;t++)e+=this.props.results[t].votes;return e},render:function(){return n.createElement("ul",null,n.createElement("li",null,"Votes cast: ",this.computeTotalVotesCasted()),this.props.results.map(this.renderVote))}})},function(e){function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(e){return"function"==typeof e}function n(e){return"number"==typeof e}function r(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if(!n(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,n,a,o,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],i(n))return!1;if(s(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(a=arguments.length,o=new Array(a-1),c=1;a>c;c++)o[c-1]=arguments[c];n.apply(this,o)}else if(r(n)){for(a=arguments.length,o=new Array(a-1),c=1;a>c;c++)o[c-1]=arguments[c];for(l=n.slice(),a=l.length,c=0;a>c;c++)l[c].apply(this,o)}return!0},t.prototype.addListener=function(e,n){var a;if(!s(n))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,s(n.listener)?n.listener:n),this._events[e]?r(this._events[e])?this._events[e].push(n):this._events[e]=[this._events[e],n]:this._events[e]=n,r(this._events[e])&&!this._events[e].warned){var a;a=i(this._maxListeners)?t.defaultMaxListeners:this._maxListeners,a&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!s(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},t.prototype.removeListener=function(e,t){var n,i,a,o;if(!s(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||s(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(n)){for(o=a;o-->0;)if(n[o]===t||n[o].listener&&n[o].listener===t){i=o;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],s(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?s(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?s(e._events[t])?1:e._events[t].length:0}},function(e,t,s){var n=s(3),r=s(14).EventEmitter,i=s(2),a=[],o=[],c=!1,l=[],h=function(e,t){for(var s=t.length,n=0;s>n;n++)if(t[n]===e)return!0;return!1},p=i({},r.prototype,{fetchSuccess:function(e){if(a=e.events,o=e.rfcs,!c){for(var t in o){var s=o[t];l.push(s.id)}c=!0}this.emit("change")},fetch:function(){$.ajax({url:"/data.json",success:this.fetchSuccess.bind(this)})},getRfcs:function(){return o},getAllActive:function(){return a.filter(function(e){return h(e.vote.id,l)})},getAll:function(){return a}});p.dispatchToken=n.register(function(e){var t={RfcVisibilityToggled:function(e){if(e.Visible)l.push(e.Id);else{var t=l.indexOf(e.Id);t>-1&&l.splice(t,1)}p.emit("change")}};return t[e.type]&&t[e.type](e.action)}),e.exports=p}]);